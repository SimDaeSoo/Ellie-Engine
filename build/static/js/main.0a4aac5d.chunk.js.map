{"version":3,"sources":["utils/index.ts","utils/buffer.ts","pages/TilemapWithBuffer.tsx","utils/cave.ts","pages/CaveGenerate.tsx","pages/Viewport.tsx","App.tsx","index.tsx"],"names":["updater","app","preload","srcs","a","assets","src","push","Promise","resolve","asset","PIXI","shared","add","load","setRenderer","stage","removeAllListeners","removeChildren","resolution","window","devicePixelRatio","SCALE_MODE","NEAREST","MIPMAP_TEXTURES","OFF","STRICT_TEXTURE_CACHE","stats","Stats","width","innerWidth","height","innerHeight","sharedLoader","powerPreference","backgroundColor","backgroundAlpha","autoStart","antialias","forceCanvas","preserveDrawingBuffer","view","className","style","dom","right","removeProperty","document","getElementById","appendChild","console","log","render","update","requestAnimationFrame","setUpdater","callback","peakBufferBit","buffer","x","y","Uint8Array","Math","ceil","floor","setBufferBit","value","bytes","TilemapWithBuffer","useEffect","seed","random","toFixed","randomGenerate","seedrandom","ArrayBuffer","i","labelContainer","labelBackground","label","byteLength","fontSize","fill","beginFill","drawRect","endFill","addChild","graphics","countAliveNeighbours","aliveNeighboursCount","offsetY","offsetX","neighborX","neighborY","nextStep","options","afterBuffer","deathLimit","birthLimit","alives","before","after","CaveGenerate","frame","leftSteps","length","stepOption","splice","clear","viewportSize","position","vector","targetPosition","onTouch","e","currentX","round","currentY","cos","atan2","targetTouches","clientY","clientX","sin","onClick","ViewPort","tilemapViewport","lineStyle","color","moveTo","lineTo","viewport","viewportLine","viewportPositionBackground","viewportPositionLabel","removeEventListener","addEventListener","sqrt","text","App","location","useLocation","history","useHistory","useState","toggle","setToggle","pathname","Container","Sidebar","collapsible","overflow","Sidenav","Header","top","zIndex","Nav","Item","icon","Icon","stopPropagation","Body","marginTop","activeKey","disabled","eventKey","onSelect","id","exact","path","component","Viewport","bottom","href","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.0a4aac5d.chunk.js","sourcesContent":["import * as PIXI from 'pixi.js';\nimport Stats from 'stats.js';\n\nlet updater: () => void;\nlet app: PIXI.Application;\n\nasync function preload(srcs: Array<string>): Promise<void> {\n  const BASE_URL: string =\n    process.env.NODE_ENV === 'development'\n      ? 'http://localhost:3000/Engine/build'\n      : 'https://simdaesoo.github.io/Engine/build';\n  const assets: Array<[string, string]> = [];\n\n  for (const src of srcs) {\n    assets.push([src, `${BASE_URL}/${src}`]);\n  }\n\n  return new Promise((resolve) => {\n    for (const asset of assets) {\n      PIXI.Loader.shared.add(...asset);\n    }\n\n    PIXI.Loader.shared.load(() => {\n      resolve();\n    });\n  });\n}\n\nasync function setRenderer(): Promise<PIXI.Application> {\n  if (app) {\n    app.stage.removeAllListeners();\n    app.stage.removeChildren();\n    return app;\n  }\n  const resolution: number = window.devicePixelRatio || 1;\n  PIXI.settings.SCALE_MODE = PIXI.SCALE_MODES.NEAREST;\n  PIXI.settings.MIPMAP_TEXTURES = PIXI.MIPMAP_MODES.OFF;\n  PIXI.settings.STRICT_TEXTURE_CACHE = true;\n\n  const stats: Stats = new Stats();\n  app = new PIXI.Application({\n    width: window.innerWidth,\n    height: window.innerHeight,\n    sharedLoader: true,\n    powerPreference: 'high-performance',\n    backgroundColor: 0x202020,\n    backgroundAlpha: 0,\n    autoStart: false,\n    antialias: false,\n    forceCanvas: false,\n    preserveDrawingBuffer: false,\n    resolution,\n  });\n  app.view.className = 'renderer';\n  app.view.style.width = '100%';\n  app.view.style.height = '100%';\n  stats.dom.style.right = '0';\n  stats.dom.style.removeProperty('left');\n\n  const dom: HTMLElement = document.getElementById('content') as HTMLElement;\n  dom.appendChild(app.view);\n  dom.appendChild(stats.dom);\n\n  try {\n    await preload(['bunny.png']);\n  } catch (e) {\n    console.log(e);\n  }\n\n  const render = () => {\n    if (updater) updater();\n    stats.update();\n    app.render();\n    window.requestAnimationFrame(render);\n  };\n  window.requestAnimationFrame(render);\n\n  return app;\n}\n\nfunction setUpdater(callback: () => void): void {\n  updater = callback;\n}\n\nexport { setRenderer, setUpdater };\n","function peakBufferBit(\n  buffer: ArrayBuffer,\n  x: number,\n  y: number,\n  width: number\n): boolean {\n  const bytes = new Uint8Array(\n    buffer,\n    y * Math.ceil(width / 8) + Math.floor(x / 8),\n    1\n  );\n  return !!(bytes[0] & (1 << x % 8));\n}\n\nfunction setBufferBit(\n  buffer: ArrayBuffer,\n  x: number,\n  y: number,\n  width: number,\n  value: 1 | 0\n): void {\n  const bytes = new Uint8Array(\n    buffer,\n    y * Math.ceil(width / 8) + Math.floor(x / 8),\n    1\n  );\n\n  if (value === 1) {\n    bytes[0] = bytes[0] | (1 << x % 8);\n  } else {\n    bytes[0] = bytes[0] & (255 ^ (1 << x % 8));\n  }\n}\n\nexport { peakBufferBit, setBufferBit };\n","import * as PIXI from 'pixi.js';\nimport seedrandom from 'seedrandom';\nimport { useEffect } from 'react';\nimport { setRenderer, setUpdater } from '../utils';\nimport { peakBufferBit } from '../utils/buffer';\n\nconst TilemapWithBuffer = () => {\n  useEffect(() => {\n    (async () => {\n      // Buffer Tile Map Generate\n      const seed = Math.random().toFixed(4);\n      const randomGenerate = seedrandom(seed);\n      const TILE_SIZE = 8;\n      const width = Math.ceil(window.innerWidth / TILE_SIZE);\n      const height = Math.ceil(window.innerHeight / TILE_SIZE);\n      const buffer = new ArrayBuffer(Math.ceil(width / 8) * height);\n\n      for (let i = 0; i < Math.ceil(width / 8) * height; i++) {\n        const view = new Uint8Array(buffer, i, 1);\n        view[0] = Math.floor(randomGenerate() * 256);\n      }\n\n      // Label\n      const labelContainer = new PIXI.Container();\n      const labelBackground = new PIXI.Graphics();\n      const label = new PIXI.Text(\n        `Seed: ${seed} / Width: ${window.innerWidth}px / Height: ${window.innerHeight}px / Buffer: ${buffer.byteLength} bytes`,\n        {\n          fontSize: 13,\n          fill: 0xffffff,\n        }\n      );\n      labelBackground.beginFill(0x000000, 0.5);\n      labelBackground.drawRect(-1, -1, label.width + 2, label.height + 2);\n      labelBackground.endFill();\n\n      labelContainer.x = window.innerWidth / 2 - label.width / 2 - 1;\n      labelContainer.y = 60;\n      labelContainer.addChild(labelBackground);\n      labelContainer.addChild(label);\n\n      // Rendering\n      const app: PIXI.Application = await setRenderer();\n      const graphics = new PIXI.Graphics();\n\n      graphics.beginFill(0x666666);\n      for (let y = 0; y < height; y++) {\n        for (let x = 0; x < width; x++) {\n          if (peakBufferBit(buffer, x, y, width)) {\n            graphics.drawRect(x * 8, y * 8, 8, 8);\n          }\n        }\n      }\n      graphics.endFill();\n\n      app.stage.addChild(graphics);\n      app.stage.addChild(labelContainer);\n      setUpdater(() => {});\n    })();\n  }, []);\n\n  return <></>;\n};\n\nexport default TilemapWithBuffer;\n","import { peakBufferBit, setBufferBit } from './buffer';\n\nfunction countAliveNeighbours(\n  buffer: ArrayBuffer,\n  x: number,\n  y: number,\n  width: number,\n  height: number\n): number {\n  let aliveNeighboursCount = 0;\n\n  for (let offsetY = -1; offsetY <= 1; offsetY++) {\n    for (let offsetX = -1; offsetX <= 1; offsetX++) {\n      const neighborX: number = x + offsetX;\n      const neighborY: number = y + offsetY;\n      if (offsetX === 0 && offsetY === 0) {\n        continue;\n      } else if (\n        neighborX < 0 ||\n        neighborY < 0 ||\n        neighborX >= width ||\n        neighborY >= height\n      ) {\n        aliveNeighboursCount++;\n      } else if (peakBufferBit(buffer, neighborX, neighborY, width)) {\n        aliveNeighboursCount++;\n      }\n    }\n  }\n\n  return aliveNeighboursCount;\n}\n\nfunction nextStep(\n  buffer: ArrayBuffer,\n  width: number,\n  height: number,\n  options: { deathLimit: number; birthLimit: number }\n): void {\n  const afterBuffer: ArrayBuffer = new ArrayBuffer(buffer.byteLength);\n  const { deathLimit, birthLimit } = options;\n\n  for (let y = 0; y < height; y++) {\n    for (let x = 0; x < width; x++) {\n      const alives: number = countAliveNeighbours(buffer, x, y, width, height);\n\n      if (peakBufferBit(buffer, x, y, width)) {\n        if (alives < birthLimit) {\n          setBufferBit(afterBuffer, x, y, width, 0);\n        } else {\n          setBufferBit(afterBuffer, x, y, width, 1);\n        }\n      } else {\n        if (alives > deathLimit) {\n          setBufferBit(afterBuffer, x, y, width, 1);\n        } else {\n          setBufferBit(afterBuffer, x, y, width, 0);\n        }\n      }\n    }\n  }\n\n  for (let i = 0; i < afterBuffer.byteLength; i++) {\n    const before = new Uint8Array(buffer, i, 1);\n    const after = new Uint8Array(afterBuffer, i, 1);\n    before[0] = after[0];\n  }\n}\n\nexport { nextStep };\n","import * as PIXI from 'pixi.js';\nimport seedrandom from 'seedrandom';\nimport { useEffect } from 'react';\nimport { setRenderer, setUpdater } from '../utils';\nimport { peakBufferBit } from '../utils/buffer';\nimport { nextStep } from '../utils/cave';\n\nconst CaveGenerate = () => {\n  useEffect(() => {\n    (async () => {\n      // Buffer Tile Map Generate\n      const seed = Math.random().toFixed(4);\n      const randomGenerate = seedrandom(seed);\n      const TILE_SIZE = 8;\n      const width = Math.ceil(window.innerWidth / TILE_SIZE);\n      const height = Math.ceil(window.innerHeight / TILE_SIZE);\n      const buffer = new ArrayBuffer(Math.ceil(width / 8) * height);\n\n      for (let i = 0; i < Math.ceil(width / 8) * height; i++) {\n        const view = new Uint8Array(buffer, i, 1);\n        view[0] = Math.floor(randomGenerate() * 256);\n      }\n\n      // Label\n      const labelContainer = new PIXI.Container();\n      const labelBackground = new PIXI.Graphics();\n      const label = new PIXI.Text(\n        `Seed: ${seed} / Width: ${window.innerWidth}px / Height: ${window.innerHeight}px / Buffer: ${buffer.byteLength} bytes`,\n        {\n          fontSize: 13,\n          fill: 0xffffff,\n        }\n      );\n      labelBackground.beginFill(0x000000, 0.5);\n      labelBackground.drawRect(-1, -1, label.width + 2, label.height + 2);\n      labelBackground.endFill();\n\n      labelContainer.x = window.innerWidth / 2 - label.width / 2 - 1;\n      labelContainer.y = 60;\n      labelContainer.addChild(labelBackground);\n      labelContainer.addChild(label);\n\n      // Rendering\n      const app: PIXI.Application = await setRenderer();\n      const graphics = new PIXI.Graphics();\n\n      graphics.beginFill(0x666666);\n      for (let y = 0; y < height; y++) {\n        for (let x = 0; x < width; x++) {\n          if (peakBufferBit(buffer, x, y, width)) {\n            graphics.beginFill(0x666666);\n            graphics.drawRect(x * 8, y * 8, 8, 8);\n          }\n        }\n      }\n      graphics.endFill();\n\n      app.stage.addChild(graphics);\n      app.stage.addChild(labelContainer);\n\n      let frame = 0;\n      const leftSteps = [\n        { birthLimit: 5, deathLimit: 3 },\n        { birthLimit: 5, deathLimit: 3 },\n        { birthLimit: 5, deathLimit: 3 },\n        { birthLimit: 5, deathLimit: 4 },\n        { birthLimit: 5, deathLimit: 4 },\n        { birthLimit: 5, deathLimit: 4 },\n        { birthLimit: 4, deathLimit: 4 },\n        { birthLimit: 4, deathLimit: 4 },\n        { birthLimit: 4, deathLimit: 4 },\n      ];\n\n      setUpdater(() => {\n        if (frame++ > 10 && leftSteps.length) {\n          const stepOption = leftSteps.splice(0, 1)[0];\n\n          nextStep(buffer, width, height, stepOption);\n\n          graphics.clear();\n          graphics.beginFill(0x666666);\n          for (let y = 0; y < height; y++) {\n            for (let x = 0; x < width; x++) {\n              if (peakBufferBit(buffer, x, y, width)) {\n                graphics.drawRect(x * 8, y * 8, 8, 8);\n              }\n            }\n          }\n          graphics.endFill();\n\n          frame = 0;\n        }\n      });\n    })();\n  }, []);\n\n  return <></>;\n};\n\nexport default CaveGenerate;\n","import * as PIXI from 'pixi.js';\nimport seedrandom from 'seedrandom';\nimport { useEffect } from 'react';\nimport { setRenderer, setUpdater } from '../utils';\nimport { peakBufferBit } from '../utils/buffer';\nimport { nextStep } from '../utils/cave';\n\nconst viewportSize = {\n  width: Math.ceil(window.innerWidth / 3),\n  height: Math.ceil(window.innerHeight / 3),\n};\nconst position = { x: 0, y: 0 };\nconst vector = { x: 0, y: 0 };\nconst targetPosition = { x: 0, y: 0 };\n\nconst onTouch = (e: any) => {\n  const currentX = Math.round(position.x + viewportSize.width / 2);\n  const currentY = Math.round(position.y + viewportSize.height / 2);\n  vector.x =\n    Math.cos(\n      Math.atan2(\n        e.targetTouches[0].clientY - currentY,\n        e.targetTouches[0].clientX - currentX\n      )\n    ) * 2;\n  vector.y =\n    Math.sin(\n      Math.atan2(\n        e.targetTouches[0].clientY - currentY,\n        e.targetTouches[0].clientX - currentX\n      )\n    ) * 2;\n\n  targetPosition.x = e.targetTouches[0].clientX;\n  targetPosition.y = e.targetTouches[0].clientY;\n};\n\nconst onClick = (e: any) => {\n  const currentX = Math.round(position.x + viewportSize.width / 2);\n  const currentY = Math.round(position.y + viewportSize.height / 2);\n  vector.x =\n    Math.cos(Math.atan2(e.clientY - currentY, e.clientX - currentX)) * 2;\n  vector.y =\n    Math.sin(Math.atan2(e.clientY - currentY, e.clientX - currentX)) * 2;\n\n  targetPosition.x = e.clientX;\n  targetPosition.y = e.clientY;\n};\n\nconst ViewPort = () => {\n  useEffect(() => {\n    (async () => {\n      // Buffer Tile Map Generate\n      const seed = Math.random().toFixed(4);\n      const randomGenerate = seedrandom(seed);\n      const TILE_SIZE = 8;\n      const width = Math.ceil(window.innerWidth / TILE_SIZE);\n      const height = Math.ceil(window.innerHeight / TILE_SIZE);\n      const buffer = new ArrayBuffer(Math.ceil(width / 8) * height);\n\n      for (let i = 0; i < Math.ceil(width / 8) * height; i++) {\n        const view = new Uint8Array(buffer, i, 1);\n        view[0] = Math.floor(randomGenerate() * 256);\n      }\n\n      // Cave Generate\n      nextStep(buffer, width, height, { birthLimit: 5, deathLimit: 3 });\n      nextStep(buffer, width, height, { birthLimit: 5, deathLimit: 3 });\n      nextStep(buffer, width, height, { birthLimit: 5, deathLimit: 3 });\n      nextStep(buffer, width, height, { birthLimit: 5, deathLimit: 4 });\n      nextStep(buffer, width, height, { birthLimit: 5, deathLimit: 4 });\n      nextStep(buffer, width, height, { birthLimit: 5, deathLimit: 4 });\n      nextStep(buffer, width, height, { birthLimit: 4, deathLimit: 4 });\n      nextStep(buffer, width, height, { birthLimit: 4, deathLimit: 4 });\n      nextStep(buffer, width, height, { birthLimit: 4, deathLimit: 4 });\n\n      // Label\n      const labelContainer = new PIXI.Container();\n      const labelBackground = new PIXI.Graphics();\n      const label = new PIXI.Text(`Click to move viewport`, {\n        fontSize: 13,\n        fill: 0xffffff,\n      });\n      labelBackground.beginFill(0x000000, 0.5);\n      labelBackground.drawRect(-1, -1, label.width + 2, label.height + 2);\n      labelBackground.endFill();\n\n      labelContainer.x = window.innerWidth / 2 - label.width / 2 - 1;\n      labelContainer.y = 60;\n      labelContainer.addChild(labelBackground);\n      labelContainer.addChild(label);\n\n      // Tile Viewport Area\n      const tilemapViewport = new PIXI.Graphics();\n      tilemapViewport\n        .lineStyle({ width: 1, color: 0x00ff00 })\n        .moveTo(0, 0)\n        .lineTo(Math.ceil(window.innerWidth / 8) * 4, 0)\n        .lineTo(\n          Math.ceil(window.innerWidth / 8) * 4,\n          Math.ceil(window.innerHeight / 8) * 4\n        )\n        .lineTo(0, Math.ceil(window.innerHeight / 8) * 4)\n        .lineTo(0, 0);\n\n      // Viewport\n      const viewport = new PIXI.Container();\n      const viewportLine = new PIXI.Graphics();\n      vector.x = 0;\n      vector.y = 0;\n      position.x = 0;\n      position.y = 0;\n      viewportLine\n        .lineStyle({ width: 1, color: 0xff0000 })\n        .moveTo(0, 0)\n        .lineTo(viewportSize.width, 0)\n        .lineTo(viewportSize.width, viewportSize.height)\n        .lineTo(0, viewportSize.height)\n        .lineTo(0, 0);\n      const viewportPositionBackground = new PIXI.Graphics();\n      const viewportPositionLabel = new PIXI.Text(\n        `(${position.x},${position.y})`,\n        {\n          fontSize: 13,\n          fill: 0xffffff,\n        }\n      );\n      viewportPositionLabel.x = 2;\n      viewportPositionLabel.y = 2;\n      viewportPositionBackground.beginFill(0x000000, 0.5);\n      viewportPositionBackground.drawRect(\n        0,\n        0,\n        viewportPositionLabel.width + 2,\n        viewportPositionLabel.height + 2\n      );\n      viewportPositionBackground.endFill();\n\n      viewport.addChild(viewportPositionBackground);\n      viewport.addChild(viewportPositionLabel);\n      viewport.addChild(viewportLine);\n\n      // Rendering\n      const app: PIXI.Application = await setRenderer();\n      const graphics = new PIXI.Graphics();\n\n      graphics.clear();\n      graphics.beginFill(0x666666);\n      for (\n        let y = Math.floor(tilemapViewport.y / 8);\n        y < Math.ceil((tilemapViewport.y + tilemapViewport.height) / 8);\n        y++\n      ) {\n        for (\n          let x = Math.floor(tilemapViewport.x / 8);\n          x < Math.ceil((tilemapViewport.x + tilemapViewport.width) / 8);\n          x++\n        ) {\n          if (peakBufferBit(buffer, x, y, width)) {\n            graphics.beginFill(0x666666);\n            graphics.drawRect(x * 8, y * 8, 8, 8);\n          }\n        }\n      }\n      graphics.endFill();\n\n      app.stage.addChild(graphics);\n      app.stage.addChild(viewport);\n      app.stage.addChild(tilemapViewport);\n      app.stage.addChild(labelContainer);\n\n      window.removeEventListener('touchstart', onTouch);\n      window.removeEventListener('click', onClick);\n      window.addEventListener('touchstart', onTouch);\n      window.addEventListener('click', onClick);\n\n      setUpdater(() => {\n        // Vector Move\n        const currentX = Math.round(position.x + viewportSize.width / 2);\n        const currentY = Math.round(position.y + viewportSize.height / 2);\n        if (\n          Math.sqrt(\n            (currentX - targetPosition.x) ** 2 +\n              (currentY - targetPosition.y) ** 2\n          ) < 4\n        ) {\n          vector.x = 0;\n          vector.y = 0;\n        }\n        if (position.x <= 0 && vector.x < 0) {\n          targetPosition.x = Math.round(viewportSize.width / 2);\n          position.x = 0;\n          vector.x = 0;\n        } else if (\n          position.x + viewportSize.width >= window.innerWidth &&\n          vector.x > 0\n        ) {\n          targetPosition.x =\n            window.innerWidth - Math.round(viewportSize.width / 2);\n          position.x = window.innerWidth - viewportSize.width;\n          vector.x = 0;\n        }\n        if (position.y <= 0 && vector.y < 0) {\n          targetPosition.y = Math.round(viewportSize.height / 2);\n          position.y = 0;\n          vector.y = 0;\n        } else if (\n          position.y + viewportSize.height >= window.innerHeight &&\n          vector.y > 0\n        ) {\n          targetPosition.y =\n            window.innerHeight - Math.round(viewportSize.height / 2);\n          position.y = window.innerHeight - viewportSize.height;\n          vector.y = 0;\n        }\n\n        position.x += vector.x;\n        position.y += vector.y;\n        viewport.x = position.x;\n        viewport.y = position.y;\n        viewportPositionLabel.text = `(${Math.round(position.x)},${Math.round(\n          position.y\n        )})`;\n\n        // ViewPort Check\n        if (\n          viewport.x < tilemapViewport.x ||\n          viewport.x + viewport.width - 1 >\n            tilemapViewport.x + tilemapViewport.width ||\n          viewport.y < tilemapViewport.y ||\n          viewport.y + viewport.height - 1 >\n            tilemapViewport.y + tilemapViewport.height\n        ) {\n          tilemapViewport.x =\n            viewport.x -\n            Math.round((tilemapViewport.width - viewport.width) / 2);\n          tilemapViewport.y =\n            viewport.y -\n            Math.round((tilemapViewport.height - viewport.height) / 2);\n          if (tilemapViewport.x <= 0) tilemapViewport.x = 0;\n          if (tilemapViewport.x >= window.innerWidth - tilemapViewport.width)\n            tilemapViewport.x = window.innerWidth - tilemapViewport.width;\n          if (tilemapViewport.y <= 0) tilemapViewport.y = 0;\n          if (tilemapViewport.y >= window.innerHeight - tilemapViewport.height)\n            tilemapViewport.y = window.innerHeight - tilemapViewport.height;\n\n          // Re Draw Tilemap\n          graphics.clear();\n          graphics.beginFill(0x666666);\n          for (\n            let y = Math.floor(tilemapViewport.y / 8);\n            y < Math.ceil((tilemapViewport.y + tilemapViewport.height) / 8);\n            y++\n          ) {\n            for (\n              let x = Math.floor(tilemapViewport.x / 8);\n              x < Math.ceil((tilemapViewport.x + tilemapViewport.width) / 8);\n              x++\n            ) {\n              if (peakBufferBit(buffer, x, y, width)) {\n                graphics.beginFill(0x666666);\n                graphics.drawRect(x * 8, y * 8, 8, 8);\n              }\n            }\n          }\n          graphics.endFill();\n        }\n      });\n    })();\n  }, []);\n\n  return <></>;\n};\n\nexport default ViewPort;\n","import { useState } from 'react';\nimport { Route } from 'react-router';\nimport { useLocation, useHistory } from 'react-router-dom';\nimport { Sidenav, Nav, Container, Sidebar, Icon } from 'rsuite';\nimport TilemapWithBuffer from './pages/TilemapWithBuffer';\nimport CaveGenerate from './pages/CaveGenerate';\nimport Viewport from './pages/Viewport';\n\nconst App = () => {\n  const location = useLocation();\n  const history = useHistory();\n  const [toggle, setToggle] = useState(true);\n  const { pathname } = location;\n\n  return (\n    <>\n      <Container style={{ height: '100%' }}>\n        <Sidebar\n          collapsible\n          width={toggle ? 0 : 250}\n          style={{\n            position: 'absolute',\n            height: '100%',\n            overflow: 'auto',\n            backgroundColor: '#1a1d24',\n          }}\n        >\n          <Sidenav>\n            <Sidenav.Header\n              style={{\n                position: 'fixed',\n                top: 0,\n                height: '50px',\n                width: toggle ? 50 : 250,\n                zIndex: 2,\n              }}\n            >\n              <Nav>\n                <Nav.Item\n                  icon={<Icon icon={toggle ? 'angle-right' : 'angle-left'} />}\n                  onClick={(e: any) => {\n                    e.stopPropagation();\n                    setToggle(!toggle);\n                  }}\n                  style={{ backgroundColor: '#0f131a' }}\n                >\n                  Toggle\n                </Nav.Item>\n              </Nav>\n            </Sidenav.Header>\n\n            <Sidenav.Body\n              style={{ height: 'calc(100%-50px)', marginTop: '50px' }}\n            >\n              <Nav activeKey={pathname}>\n                <Nav.Item\n                  icon={<Icon icon='gears2' />}\n                  disabled\n                  style={{ backgroundColor: '#0f131a' }}\n                  eventKey={pathname}\n                >\n                  2D Platform Engine\n                </Nav.Item>\n\n                <Nav.Item\n                  icon={<Icon icon='th2' />}\n                  onSelect={() => history.push('/')}\n                  eventKey='/'\n                >\n                  Tilemap With Buffer\n                </Nav.Item>\n                <Nav.Item\n                  icon={<Icon icon='th2' />}\n                  onSelect={() => history.push('/cave-generate')}\n                  eventKey='/cave-generate'\n                >\n                  Cave Generate\n                </Nav.Item>\n                <Nav.Item\n                  icon={<Icon icon='square-o' />}\n                  onSelect={() => history.push('/viewport')}\n                  eventKey='/viewport'\n                >\n                  Viewport\n                </Nav.Item>\n                <Nav.Item\n                  icon={<Icon icon='tint' />}\n                  onSelect={() => history.push('/liquid-simulation')}\n                  eventKey='/liquid-simulation'\n                  disabled\n                >\n                  Liquid Simulation\n                </Nav.Item>\n                <Nav.Item\n                  icon={<Icon icon='tint' />}\n                  onSelect={() => history.push('/liquid-simulation-2')}\n                  eventKey='/liquid-simulation-2'\n                  disabled\n                >\n                  Liquid Simulation 2\n                </Nav.Item>\n                <Nav.Item\n                  icon={<Icon icon='tint' />}\n                  onSelect={() => history.push('/liquid-stress-test')}\n                  eventKey='/liquid-stress-test'\n                  disabled\n                >\n                  Liquid Stress Test\n                </Nav.Item>\n                <Nav.Item\n                  icon={<Icon icon='close' />}\n                  onSelect={() => history.push('/line-intersection')}\n                  eventKey='/line-intersection'\n                  disabled\n                >\n                  Line Intersection\n                </Nav.Item>\n                <Nav.Item\n                  icon={<Icon icon='lightbulb-o' />}\n                  onSelect={() => history.push('/lighting-area')}\n                  eventKey='/lighting-area'\n                  disabled\n                >\n                  Lighting Area\n                </Nav.Item>\n                <Nav.Item\n                  icon={<Icon icon='lightbulb-o' />}\n                  onSelect={() => history.push('/lighting-area-2')}\n                  eventKey='/lighting-area-2'\n                  disabled\n                >\n                  Lighting Area 2\n                </Nav.Item>\n                <Nav.Item\n                  icon={<Icon icon='lightbulb-o' />}\n                  onSelect={() => history.push('/lighting-stress-test')}\n                  eventKey='/lighting-stress-test'\n                  disabled\n                >\n                  Lighting Stress Test\n                </Nav.Item>\n                <Nav.Item\n                  icon={<Icon icon='lightbulb-o' />}\n                  onSelect={() => history.push('/lighting-with-viewport')}\n                  eventKey='/lighting-with-viewport'\n                  disabled\n                >\n                  Lighting With Viewport\n                </Nav.Item>\n                <Nav.Item\n                  icon={<Icon icon='object-ungroup' />}\n                  onSelect={() => history.push('/aabb-collision')}\n                  eventKey='/aabb-collision'\n                  disabled\n                >\n                  AABB Collision\n                </Nav.Item>\n                <Nav.Item\n                  icon={<Icon icon='object-ungroup' />}\n                  onSelect={() => history.push('/aabb-collision-2')}\n                  eventKey='/aabb-collision-2'\n                  disabled\n                >\n                  AABB Collision 2\n                </Nav.Item>\n                <Nav.Item\n                  icon={<Icon icon='object-ungroup' />}\n                  onSelect={() => history.push('/aabb-stress-test')}\n                  eventKey='/aabb-stress-test'\n                  disabled\n                >\n                  AABB Stress Test\n                </Nav.Item>\n\n                <Nav.Item\n                  icon={<Icon icon='globe' />}\n                  onSelect={() => history.push('/sample-world')}\n                  eventKey='/sample-world'\n                  disabled\n                >\n                  Sample World 1\n                </Nav.Item>\n              </Nav>\n            </Sidenav.Body>\n          </Sidenav>\n        </Sidebar>\n\n        <Container id='content'>\n          <Route exact path='/' component={TilemapWithBuffer} />\n          <Route exact path='/cave-generate' component={CaveGenerate} />\n          <Route exact path='/viewport' component={Viewport} />\n          <div\n            style={{\n              position: 'absolute',\n              bottom: 0,\n              right: 0,\n              color: '#FFFFFF',\n            }}\n          >\n            <a href='https://github.com/SimDaeSoo'>Created by daesoo94</a>\n          </div>\n        </Container>\n      </Container>\n    </>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport App from './App';\nimport 'rsuite/dist/styles/rsuite-dark.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}