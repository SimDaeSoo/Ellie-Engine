(this.webpackJsonpEngine=this.webpackJsonpEngine||[]).push([[0],{320:function(e,t,n){"use strict";n.r(t);var i,r,a=n(0),o=n.n(a),c=n(33),l=n.n(c),s=n(90),d=n(9),h=n(323),u=n(2),f=function(){return Object(u.jsx)("div",{style:{position:"absolute",bottom:0,right:0,color:"#FFFFFF"},children:Object(u.jsx)("a",{href:"https://github.com/SimDaeSoo",children:"Created by daesoo94"})})},g=n(153),w=n(325),b=n(322),p=n(324),j=n(155),m=function(){var e=Object(d.f)(),t=Object(d.e)(),n=Object(a.useState)(!0),i=Object(g.a)(n,2),r=i[0],o=i[1],c=e.pathname;return Object(u.jsx)(w.a,{collapsible:!0,width:r?0:250,style:{position:"absolute",height:"100%",overflow:"auto",backgroundColor:"#1a1d24"},children:Object(u.jsxs)(b.a,{children:[Object(u.jsx)(b.a.Header,{style:{position:"fixed",top:0,height:"50px",width:r?50:250,zIndex:2},children:Object(u.jsx)(p.a,{children:Object(u.jsx)(p.a.Item,{icon:Object(u.jsx)(j.a,{icon:r?"angle-right":"angle-left"}),onClick:function(e){e.stopPropagation(),o(!r)},style:{backgroundColor:"#0f131a"},children:"Toggle"})})}),Object(u.jsx)(b.a.Body,{style:{height:"calc(100%-50px)",marginTop:"50px"},children:Object(u.jsxs)(p.a,{activeKey:c,children:[Object(u.jsx)(p.a.Item,{icon:Object(u.jsx)(j.a,{icon:"gears2"}),disabled:!0,style:{backgroundColor:"#0f131a"},children:"Ellie Engine v0.0.1"}),Object(u.jsx)(p.a.Item,{icon:Object(u.jsx)(j.a,{icon:"th2"}),onSelect:function(){return t.push("/")},eventKey:"/",children:"Tilemap With Buffer"}),Object(u.jsx)(p.a.Item,{icon:Object(u.jsx)(j.a,{icon:"th2"}),onSelect:function(){return t.push("/cave-generate")},eventKey:"/cave-generate",children:"Cave Generate"}),Object(u.jsx)(p.a.Item,{icon:Object(u.jsx)(j.a,{icon:"th2"}),onSelect:function(){return t.push("/cave-generate-texture")},eventKey:"/cave-generate-texture",children:"Cave Generate Texture"}),Object(u.jsx)(p.a.Item,{icon:Object(u.jsx)(j.a,{icon:"square-o"}),onSelect:function(){return t.push("/viewport")},eventKey:"/viewport",disabled:!0,children:"Viewport"}),Object(u.jsx)(p.a.Item,{icon:Object(u.jsx)(j.a,{icon:"tint"}),onSelect:function(){return t.push("/liquid-simulation")},eventKey:"/liquid-simulation",children:"Liquid Simulation"}),Object(u.jsx)(p.a.Item,{icon:Object(u.jsx)(j.a,{icon:"tint"}),onSelect:function(){return t.push("/liquid-simulation-2")},eventKey:"/liquid-simulation-2",children:"Liquid Simulation 2"}),Object(u.jsx)(p.a.Item,{icon:Object(u.jsx)(j.a,{icon:"tint"}),onSelect:function(){return t.push("/liquid-stress-test")},eventKey:"/liquid-stress-test",children:"Liquid Stress Test"}),Object(u.jsx)(p.a.Item,{icon:Object(u.jsx)(j.a,{icon:"close"}),onSelect:function(){return t.push("/line-intersection")},eventKey:"/line-intersection",disabled:!0,children:"Line Intersection"}),Object(u.jsx)(p.a.Item,{icon:Object(u.jsx)(j.a,{icon:"lightbulb-o"}),onSelect:function(){return t.push("/lighting-area")},eventKey:"/lighting-area",disabled:!0,children:"Lighting Area"}),Object(u.jsx)(p.a.Item,{icon:Object(u.jsx)(j.a,{icon:"lightbulb-o"}),onSelect:function(){return t.push("/lighting-area-2")},eventKey:"/lighting-area-2",disabled:!0,children:"Lighting Area 2"}),Object(u.jsx)(p.a.Item,{icon:Object(u.jsx)(j.a,{icon:"lightbulb-o"}),onSelect:function(){return t.push("/lighting-stress-test")},eventKey:"/lighting-stress-test",disabled:!0,children:"Lighting Stress Test"}),Object(u.jsx)(p.a.Item,{icon:Object(u.jsx)(j.a,{icon:"lightbulb-o"}),onSelect:function(){return t.push("/lighting-with-viewport")},eventKey:"/lighting-with-viewport",disabled:!0,children:"Lighting With Viewport"}),Object(u.jsx)(p.a.Item,{icon:Object(u.jsx)(j.a,{icon:"object-ungroup"}),onSelect:function(){return t.push("/aabb-collision")},eventKey:"/aabb-collision",disabled:!0,children:"AABB Collision"}),Object(u.jsx)(p.a.Item,{icon:Object(u.jsx)(j.a,{icon:"object-ungroup"}),onSelect:function(){return t.push("/aabb-collision-2")},eventKey:"/aabb-collision-2",disabled:!0,children:"AABB Collision 2"}),Object(u.jsx)(p.a.Item,{icon:Object(u.jsx)(j.a,{icon:"object-ungroup"}),onSelect:function(){return t.push("/aabb-stress-test")},eventKey:"/aabb-stress-test",disabled:!0,children:"AABB Stress Test"}),Object(u.jsx)(p.a.Item,{icon:Object(u.jsx)(j.a,{icon:"globe"}),onSelect:function(){return t.push("/sample-world")},eventKey:"/sample-world",disabled:!0,children:"Sample World 1"})]})})]})})},v=n(10),x=n.n(v),y=n(12),O=n(4),S=n(154),M=n(151),C=n(152),A=n.n(C);function L(){return E.apply(this,arguments)}function E(){return(E=Object(y.a)(x.a.mark((function e(){var t,n,i,r,a,o,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for("https://simdaesoo.github.io/Engine/build",t=[],n=[],i=1;i<=61;i++)n.push("tiles/Tile_".concat(i.toString().padStart(2,"0"),".png"));for(r=0;r<=36;r++)n.push("waters/".concat(r.toString().padStart(2,"0"),".png"));for(a=0,o=n;a<o.length;a++)c=o[a],t.push([c,"".concat("https://simdaesoo.github.io/Engine/build","/").concat(c)]);return e.abrupt("return",new Promise((function(e){var n,i=Object(M.a)(t);try{for(i.s();!(n=i.n()).done;){var r,a=n.value;(r=O.d.shared).add.apply(r,Object(S.a)(a))}}catch(o){i.e(o)}finally{i.f()}O.d.shared.load((function(){e()}))})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return k.apply(this,arguments)}function k(){return(k=Object(y.a)(x.a.mark((function e(){var t,n,a,o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=4;break}return r.stage.removeAllListeners(),r.stage.removeChildren(),e.abrupt("return",r);case 4:return t=window.devicePixelRatio||1,O.j.SCALE_MODE=O.f.NEAREST,O.j.MIPMAP_TEXTURES=O.e.OFF,O.j.STRICT_TEXTURE_CACHE=!0,n=new A.a,(r=new O.a({width:window.innerWidth,height:window.innerHeight,sharedLoader:!0,powerPreference:"high-performance",backgroundColor:2105376,backgroundAlpha:0,autoStart:!1,antialias:!1,forceCanvas:!1,preserveDrawingBuffer:!1,resolution:t})).view.className="renderer",r.view.style.width="100%",r.view.style.height="100%",n.dom.style.right="0",n.dom.style.removeProperty("left"),(a=document.getElementById("content")).appendChild(r.view),a.appendChild(n.dom),e.prev=18,e.next=21,L();case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(18),console.log(e.t0);case 26:return o=function e(){i&&i(),n.update(),r.render(),window.requestAnimationFrame(e)},window.requestAnimationFrame(o),e.abrupt("return",r);case 29:case"end":return e.stop()}}),e,null,[[18,23]])})))).apply(this,arguments)}function F(e){i=e}function I(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8;e.beginFill(6710886);for(var i=0;i<t.length;i++)for(var r=0;r<t[i].length;r++)t[i][r][0][0]&&e.drawRect(r*n,i*n,n,n);e.endFill()}function q(e,t,n){var i=n||{},r=i.splitSize,a=void 0===r?0:r,o=i.density,c=void 0===o?{block:.5,liquid:.5}:o;if(0===a){for(var l=new ArrayBuffer(e*t*8+16),s=0;s<e*t;s++){var d=new Uint8Array(l,8*s,4),h=new Float32Array(l,8*s+4,1),u=Math.random()<c.block?1:0;d[0]=u,d[1]=0,d[2]=0,d[3]=0,h[0]=0===u&&Math.random()<c.liquid?1:0}var f=new Float64Array(l,l.byteLength-16,2);return f[0]=t,f[1]=e,[[l]]}if(e%a!==0||t%a!==0)throw new Error("width and height must be perfectly was divided by split size");for(var g=new Array(t/a).fill(!0).map((function(){return new Array(e/a)})),w=0;w<t/a;w++)for(var b=0;b<e/a;b++){for(var p=new ArrayBuffer(8*Math.pow(a,2)+16),j=0;j<Math.pow(a,2);j++){var m=new Uint8Array(p,8*j,4),v=new Float32Array(p,8*j+4,1),x=Math.random()<c.block?1:0;m[0]=x,m[1]=0,m[2]=0,m[3]=0,v[0]=0===x&&Math.random()<c.liquid?1:0}var y=new Float64Array(p,p.byteLength-16,2);y[0]=a,y[1]=a,g[w][b]=p}return g}function B(e){for(var t=new Float64Array(e[0][0],e[0][0].byteLength-16,2),n=t[0],i=t[1],r=new Array(n*e.length).fill(!0).map((function(){return new Array(i*e[0].length)})),a=0;a<r.length;a++)for(var o=[Math.floor(a/n),a%n],c=o[0],l=o[1],s=0;s<r[a].length;s++){var d=[Math.floor(s/i),s%i],h=d[0],u=d[1];r[a][s]=[new Uint8Array(e[c][h],8*(l*i+u),4),new Float32Array(e[c][h],8*(l*i+u)+4,1)]}return r}var K=function(){return Object(a.useEffect)((function(){Object(y.a)(x.a.mark((function e(){var t,n,i,r,a,o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Math.ceil(window.innerWidth/8),n=Math.ceil(window.innerHeight/8),i=q(t,n),r=B(i),e.next=6,T();case 6:a=e.sent,(o=new O.c).clear(),I(o,r),a.stage.addChild(o),F((function(){}));case 12:case"end":return e.stop()}}),e)})))()}),[]),Object(u.jsx)(u.Fragment,{})};function P(e,t,n){for(var i=0,r=-1;r<=1;r++)for(var a=-1;a<=1;a++){var o=e+a,c=t+r;0===a&&0===r||(o<0||c<0||o>=n[0].length||c>=n.length||n[c][o][0][0])&&i++}return i}function _(e,t){for(var n=new Array(e.length).fill(!0).map((function(){return new Array(e[0].length).fill(!1)})),i=t.deathLimit,r=t.birthLimit,a=0;a<e.length;a++)for(var o=0;o<e[0].length;o++){var c=P(o,a,e);e[a][o][0][0]?n[a][o]=!(c<r):n[a][o]=c>i}for(var l=0;l<n.length;l++)for(var s=0;s<n[0].length;s++)e[l][s][0][0]=n[l][s]?1:0}var W=function(){return Object(a.useEffect)((function(){Object(y.a)(x.a.mark((function e(){var t,n,i,r,a,o,c,l;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Math.ceil(window.innerWidth/8),n=Math.ceil(window.innerHeight/8),i=q(t,n),r=B(i),e.next=6,T();case 6:a=e.sent,(o=new O.c).clear(),I(o,r),a.stage.addChild(o),c=0,l=0,F((function(){c++>=10&&l<10&&(_(r,l<4?{deathLimit:3,birthLimit:5}:{deathLimit:4,birthLimit:4}),o.clear(),I(o,r),l++,c=0)}));case 14:case"end":return e.stop()}}),e)})))()}),[]),Object(u.jsx)(u.Fragment,{})};function Y(e,t,n){var i=t>0&&e>0&&n[t-1][e-1][0][0]===n[t][e][0][0],r=t>0&&n[t-1][e][0][0]===n[t][e][0][0],a=t>0&&e<n[0].length-1&&n[t-1][e+1][0][0]===n[t][e][0][0],o=e>0&&n[t][e-1][0][0]===n[t][e][0][0],c=e<n[0].length-1&&n[t][e+1][0][0]===n[t][e][0][0],l=t<n.length-1&&e>0&&n[t+1][e-1][0][0]===n[t][e][0][0],s=t<n.length-1&&n[t+1][e][0][0]===n[t][e][0][0],d=t<n.length-1&&e<n[0].length-1&&n[t+1][e+1][0][0]===n[t][e+1][0][0];return!r&&!o&&c&&s?1:!r&&o&&c&&s&&!l&&d?41:!r&&o&&c&&s&&!l&&!d?42:!r&&o&&c&&s&&l&&!d?43:!r&&o&&c&&s?2:!r&&o&&!c&&s?3:r&&o&&c&&s&&i&&a&&l&&!d?4:r&&o&&c&&!s&&!i&&a?51:r&&o&&c&&!s&&i&&!a?53:r&&o&&c&&!s&&!i&&!a?52:r&&o&&c&&!s?5:r&&o&&c&&s&&i&&a&&!l&&d?6:r&&o&&c&&s&&i&&a&&l&&d?12:r&&!o&&c&&s&&!a&&d?36:r&&!o&&c&&s&&!a&&!d?37:r&&!o&&c&&s&&a&&!d?38:r&&!o&&c&&s?11:r&&o&&!c&&s&&i&&!l?44:r&&o&&!c&&s&&!i&&!l?45:r&&o&&!c&&s&&!i&&l?46:r&&o&&!c&&s?13:r&&o&&c&&s&&!i&&a&&!l&&d?17:r&&o&&c&&s&&i&&a&&!l&&!d?18:r&&o&&c&&s&&!i&&a&&l&&!d?19:r&&!o&&c&&!s?21:r&&o&&!c&&!s?23:r&&o&&c&&s&&i&&!a&&l&&d?24:r&&o&&c&&s&&!i&&a&&l&&d?57:r&&o&&c&&s&&i&&!a&&l&&!d?27:r&&o&&c&&s&&!i&&!a&&l&&d?28:r&&o&&c&&s&&i&&!a&&!l&&d?29:r||o||!c||s?!r&&o&&c&&!s?33:r||!o||c||s?!(r&&o&&c&&s)||i||a||l||d?r||o||c||!s?r&&!o&&!c&&s?55:!r||o||c||s?r&&o&&c&&s&&i&&!a&&!l&&!d||r&&o&&c&&s&&!i&&a&&!l&&!d||r&&o&&c&&s&&!i&&!a&&l&&!d||r&&o&&c&&s&&!i&&!a&&!l&&d?35:31:56:54:35:34:32}function H(e,t,n){var i=Math.floor(33-33*Math.min(n[t][e][1][0],1));return t<n.length-1&&t>0&&e<n[0].length-1&&e>0&&!n[t-1][e][1][0]&&n[t+1][e][1][0]&&(n[t][e-1][1][0]&&n[t-1][e-1][1][0]&&n[t][e-1][1][0]<1&&n[t-1][e-1][1][0]<1&&n[t+1][e+1][1][0]<1||n[t][e+1][1][0]&&n[t-1][e+1][1][0]&&n[t][e+1][1][0]<1&&n[t-1][e+1][1][0]<1&&n[t+1][e-1][1][0]<1)?n[t-1][e-1][1][0]&&n[t-1][e+1][1][0]?36:n[t-1][e-1][1][0]?35:n[t-1][e+1][1][0]?34:-1:i<=1&&(0===t||!n[t-1][e][0][0]&&!n[t-1][e][1][0])?2:t>0&&n[t-1][e][1][0]?0:i}var z=function(){return Object(a.useEffect)((function(){Object(y.a)(x.a.mark((function e(){var t,n,i,r,a,o,c,l;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Math.ceil(window.innerWidth/8),n=Math.ceil(window.innerHeight/8),i=q(t,n),r=B(i),e.next=6,T();case 6:a=e.sent,(o=new O.c).clear(),I(o,r),a.stage.addChild(o),c=0,l=0,F((function(){if(c++>=10&&l<10&&(_(r,l<4?{deathLimit:3,birthLimit:5}:{deathLimit:4,birthLimit:4}),o.clear(),I(o,r),l++,c=0,10===l)){a.stage.removeChild(o);for(var e=new O.b,i=new Array(n).fill(!0).map((function(){return new Array(t)})),s=0;s<n;s++)for(var d=0;d<t;d++){var h=new O.g(r[s][d][0][0]?O.i.from("tiles/Tile_".concat(Y(d,s,r).toString().padStart(2,"0"),".png")):O.i.from("tiles/Tile_61.png"));h.width=8,h.height=8,h.x=8*d,h.y=8*s,i[s][d]=h,e.addChild(h)}a.stage.addChild(e),e.cacheAsBitmap=!0}}));case 14:case"end":return e.stop()}}),e)})))()}),[]),Object(u.jsx)(u.Fragment,{})},R=.005,X=.25,U=.005;function D(e,t){var n=e+t[1][0];return n<=1?1:n<2.25?(1+n*X)/1.25:(n+X)/2}function G(e){for(var t=0,n=new Array(e.length).fill(!0).map((function(){return new Array(e[0].length).fill(!0).map((function(){return{diff:0,settled:!1,settleCount:0}}))})),i=0;i<e.length;i++)for(var r=0;r<e[i].length;r++){var a=e[i][r];if(a[0][0])a[1][0]=0;else if(0!==a[1][0]&&!n[i][r].settled)if(a[1][0]<R)a[1][0]=0;else{var o=a[1][0],c=a[1][0];t=0,i<e.length-1&&!e[i+1][r][0][0]&&(t=D(a[1][0],e[i+1][r])-e[i+1][r][1][0],e[i+1][r][1][0]>0&&t>U&&(t*=1),(t=Math.max(t,0))>Math.min(4,a[1][0])&&(t=Math.min(4,a[1][0])),0!==t&&(c-=t,n[i][r].diff-=t,n[i+1][r].diff+=t,n[i+1][r].settled=!1)),c<R?n[i][r].diff-=c:(r>0&&!e[i][r-1][0][0]&&((t=(c-e[i][r-1][1][0])/4)>U&&(t*=1),(t=Math.max(t,0))>Math.min(4,c)&&(t=Math.min(4,c)),0!==t&&(c-=t,n[i][r].diff-=t,n[i][r-1].diff+=t,n[i][r-1].settled=!1)),c<R?n[i][r].diff-=c:(r<e[i].length-1&&!e[i][r+1][0][0]&&((t=(c-e[i][r+1][1][0])/3)>U&&(t*=1),(t=Math.max(t,0))>Math.min(4,c)&&(t=Math.min(4,c)),0!==t&&(c-=t,n[i][r].diff-=t,n[i][r+1].diff+=t,n[i][r+1].settled=!1)),c<R?n[i][r].diff-=c:(i>0&&!e[i-1][r][0][0]&&((t=c-D(c,e[i-1][r]))>U&&(t*=1),(t=Math.max(t,0))>Math.min(4,c)&&(t=Math.min(4,c)),0!==t&&(c-=t,n[i][r].diff-=t,n[i-1][r].diff+=t,n[i-1][r].settled=!1)),c<R?n[i][r].diff-=c:o===c?(n[i][r].settleCount++,n[i][r].settleCount>=10&&(n[i][r].settled=!0)):(i>0&&e[i-1][r]&&(n[i-1][r].settled=!1),i<e.length-1&&e[i+1][r]&&(n[i+1][r].settled=!1),r>0&&e[i][r-1]&&(n[i][r-1].settled=!1),r<e[0].length-1&&e[i][r+1]&&(n[i][r+1].settled=!1)))))}}for(var l=0;l<e.length;l++)for(var s=0;s<e[l].length;s++)e[l][s][1][0]+=n[l][s].diff,e[l][s][1][0]<R&&(e[l][s][1][0]=0)}var J=function(){return Object(a.useEffect)((function(){Object(y.a)(x.a.mark((function e(){var t,n,i,r,a,o,c,l,s,d,h,u,f,g,w,b;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=Math.ceil(window.innerWidth/8),n=Math.ceil(window.innerHeight/8),i=q(t,n,{splitSize:0,density:{block:.5,liquid:.5}}),r=B(i),a=0;a<10;a++)_(r,a<4?{deathLimit:3,birthLimit:5}:{deathLimit:4,birthLimit:4});return e.next=7,T();case 7:for(o=e.sent,c=new O.b,l=new O.b,s=new O.b,d=new Array(n).fill(!0).map((function(){return new Array(t)})),h=0;h<n;h++)for(u=0;u<t;u++)r[h][u][0][0]?((f=new O.g(O.i.from("tiles/Tile_".concat(Y(u,h,r).toString().padStart(2,"0"),".png")))).width=8,f.height=8,f.x=8*u,f.y=8*h,d[h][u]=f,l.addChild(f)):(g=H(u,h,r),(w=new O.g(g>=0?O.i.from("waters/".concat(g.toString().padStart(2,"0"),".png")):O.i.EMPTY)).width=8,w.height=8,w.x=8*u,w.y=8*h,d[h][u]=w,s.addChild(w),(b=new O.g(O.i.from("tiles/Tile_61.png"))).width=8,b.height=8,b.x=8*u,b.y=8*h,c.addChild(b));o.stage.addChild(c),o.stage.addChild(l),o.stage.addChild(s),c.cacheAsBitmap=!0,l.cacheAsBitmap=!0,F((function(){G(r);for(var e=0;e<n;e++)for(var i=0;i<t;i++)if(!r[e][i][0][0]){var a=H(i,e,r);d[e][i].texture=r[e][i][1][0]&&a>=0?O.i.from("waters/".concat(a.toString().padStart(2,"0"),".png")):O.i.EMPTY,d[e][i].alpha=Math.min(.3+.15*r[e][i][1][0],.8)}}));case 19:case"end":return e.stop()}}),e)})))()}),[]),Object(u.jsx)(u.Fragment,{})};function N(e){var t=new O.b,n=new O.c,i=new O.h(e,{fontSize:13,fill:16777215});return i.x=1,i.y=1,n.beginFill(0,.5),n.drawRect(0,0,i.width+2,i.height+2),n.endFill(),t.addChild(n),t.addChild(i),t}var V,Q,Z=function(e){var t=[Math.floor(e.targetTouches[0].clientX/8),Math.floor(e.targetTouches[0].clientY/8)];ee(t[0],t[1])},$=function(e){var t=[Math.floor(e.clientX/8),Math.floor(e.clientY/8)];ee(t[0],t[1])},ee=function(e,t){V&&V(e,t)},te=function(){return Object(a.useEffect)((function(){Object(y.a)(x.a.mark((function e(){var t,n,i,r,a,o,c,l,s,d,h,u,f,g,w,b,p;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=Math.ceil(window.innerWidth/8),n=Math.ceil(window.innerHeight/8),i=q(t,n,{splitSize:0,density:{block:.5,liquid:0}}),r=B(i),a=0;a<10;a++)_(r,a<4?{deathLimit:3,birthLimit:5}:{deathLimit:4,birthLimit:4});return window.removeEventListener("touchstart",Z),window.removeEventListener("click",$),window.addEventListener("touchstart",Z),window.addEventListener("click",$),V=function(e,i){for(var a=-3;a<=3;a++)for(var o=-3;o<=3;o++)e+o>=0&&e+o<t&&i+a>=0&&i+a<n&&!r[i+a][e+o][0][0]&&(r[i+a][e+o][1][0]+=1)},e.next=12,T();case 12:for(o=e.sent,(c=N("Click to create water")).x=Math.round(window.innerWidth/2-c.width/2),c.y=60,l=new O.b,s=new O.b,d=new O.b,h=new Array(n).fill(!0).map((function(){return new Array(t)})),u=0;u<n;u++)for(f=0;f<t;f++)r[u][f][0][0]?((g=new O.g(O.i.from("tiles/Tile_".concat(Y(f,u,r).toString().padStart(2,"0"),".png")))).width=8,g.height=8,g.x=8*f,g.y=8*u,h[u][f]=g,s.addChild(g)):(w=H(f,u,r),(b=new O.g(w>=0?O.i.from("waters/".concat(w.toString().padStart(2,"0"),".png")):O.i.EMPTY)).width=8,b.height=8,b.x=8*f,b.y=8*u,h[u][f]=b,d.addChild(b),(p=new O.g(O.i.from("tiles/Tile_61.png"))).width=8,p.height=8,p.x=8*f,p.y=8*u,l.addChild(p));o.stage.addChild(l),o.stage.addChild(s),o.stage.addChild(d),o.stage.addChild(c),l.cacheAsBitmap=!0,s.cacheAsBitmap=!0,F((function(){G(r);for(var e=0;e<n;e++)for(var i=0;i<t;i++)if(!r[e][i][0][0]){var a=H(i,e,r);h[e][i].texture=r[e][i][1][0]&&a>=0?O.i.from("waters/".concat(a.toString().padStart(2,"0"),".png")):O.i.EMPTY,h[e][i].alpha=Math.min(.3+.15*r[e][i][1][0],.8)}}));case 28:case"end":return e.stop()}}),e)})))()}),[]),Object(u.jsx)(u.Fragment,{})},ne=function(e){var t=[Math.floor(e.targetTouches[0].clientX/8),Math.floor(e.targetTouches[0].clientY/8)];re(t[0],t[1])},ie=function(e){var t=[Math.floor(e.clientX/8),Math.floor(e.clientY/8)];re(t[0],t[1])},re=function(e,t){Q&&Q(e,t)},ae=function(){return Object(a.useEffect)((function(){Object(y.a)(x.a.mark((function e(){var t,n,i,r,a,o,c,l,s,d,h,u,f,g,w,b;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Math.ceil(window.innerWidth/8),n=Math.ceil(window.innerHeight/8),i=q(t,n,{splitSize:0,density:{block:0,liquid:1}}),r=B(i),window.removeEventListener("touchstart",ne),window.removeEventListener("click",ie),window.addEventListener("touchstart",ne),window.addEventListener("click",ie),Q=function(e,i){for(var a=-3;a<=3;a++)for(var o=-3;o<=3;o++)e+o>=0&&e+o<t&&i+a>=0&&i+a<n&&!r[i+a][e+o][0][0]&&(r[i+a][e+o][1][0]+=1)},e.next=11,T();case 11:for(a=e.sent,(o=N("Click to create water")).x=Math.round(window.innerWidth/2-o.width/2),o.y=60,c=new O.b,l=new O.b,s=new O.b,d=new Array(n).fill(!0).map((function(){return new Array(t)})),h=0;h<n;h++)for(u=0;u<t;u++)r[h][u][0][0]?((f=new O.g(O.i.from("tiles/Tile_".concat(Y(u,h,r).toString().padStart(2,"0"),".png")))).width=8,f.height=8,f.x=8*u,f.y=8*h,d[h][u]=f,l.addChild(f)):(g=H(u,h,r),(w=new O.g(g>=0?O.i.from("waters/".concat(g.toString().padStart(2,"0"),".png")):O.i.EMPTY)).width=8,w.height=8,w.x=8*u,w.y=8*h,d[h][u]=w,s.addChild(w),(b=new O.g(O.i.from("tiles/Tile_61.png"))).width=8,b.height=8,b.x=8*u,b.y=8*h,c.addChild(b));a.stage.addChild(c),a.stage.addChild(l),a.stage.addChild(s),a.stage.addChild(o),c.cacheAsBitmap=!0,l.cacheAsBitmap=!0,F((function(){G(r);for(var e=0;e<n;e++)for(var i=0;i<t;i++)if(!r[e][i][0][0]){var a=H(i,e,r);d[e][i].texture=r[e][i][1][0]&&a>=0?O.i.from("waters/".concat(a.toString().padStart(2,"0"),".png")):O.i.EMPTY,d[e][i].alpha=Math.min(.3+.15*r[e][i][1][0],.8)}}));case 27:case"end":return e.stop()}}),e)})))()}),[]),Object(u.jsx)(u.Fragment,{})},oe=function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(h.a,{style:{height:"100%"},children:[Object(u.jsx)(m,{}),Object(u.jsxs)(h.a,{id:"content",children:[Object(u.jsx)(d.a,{exact:!0,path:"/",component:K}),Object(u.jsx)(d.a,{exact:!0,path:"/cave-generate",component:W}),Object(u.jsx)(d.a,{exact:!0,path:"/cave-generate-texture",component:z}),Object(u.jsx)(d.a,{exact:!0,path:"/liquid-simulation",component:J}),Object(u.jsx)(d.a,{exact:!0,path:"/liquid-simulation-2",component:te}),Object(u.jsx)(d.a,{exact:!0,path:"/liquid-stress-test",component:ae}),Object(u.jsx)(f,{})]})]})})};n(319);l.a.render(Object(u.jsx)(o.a.StrictMode,{children:Object(u.jsx)(s.a,{children:Object(u.jsx)(oe,{})})}),document.getElementById("root"))}},[[320,1,2]]]);
//# sourceMappingURL=main.beaad5d8.chunk.js.map